<template>
    <div>
        <div id="debut-page-creation">
            <main>
                <div class="box-modal">
                    <div class="containerCreation">
                        <div class="creation" data-modal="myModal1" data-title="ALTIMA CHR - CATALOGUE EN LIGNE"
                            data-date="Date de création 1" data-technologies="Technologies utilisées"
                            data-link="https://www.altimachr.com/" data-github="https://github1.com">
                            <h3 class="animated-text">ALTIMA CHR - CATALOGUE EN LIGNE</h3>
                            <img src="../assets/image/ALTIMA CHR/Altima.png" alt="Image 1" class="img-queries">
                            <p>
                                Un catalogue pour la présentation des produits en ligne.
                                Les utilisateurs peuvent uniquement consulter et faire une demande de devis.
                                Une migration vers une boutique en ligne est en cours..
                            </p>
                        </div>
                        <div class="creation" data-modal="myModal2" data-title="DPS MARKET" data-date="Date de création"
                            data-technologies="Technologies utilisées" data-link="https://dpsmarket.com/"
                            data-github="https://github2.com">
                            <h3 class="animated-text">DPS MARKET</h3>
                            <img src="../assets/image/DPS/DPS.png" alt="Image 2" class="img-queries">
                            <p>
                                Une boutique pour la présentation des produits en ligne .
                                Une refonte du site via un thème a ete mise en place ainsi que l'optimisation des pages
                                et
                                du
                                SEO
                            </p>
                        </div>
                        <div class="creation" data-modal="myModal3" data-title="Gamer Zone" data-date="Date de création"
                            data-technologies="Technologies utilisées" data-link="https://www.yte.fr/"
                            data-github="https://github3.com">
                            <h3 class="animated-text">Gamer Zone</h3>
                            <img src="../assets/image/Gamer zone/Gamer zone.png" alt="Image 3" class="img-queries">
                            <p>
                                Une boutique de jeux vidéo pour la présentation des produits en ligne .
                                Une refonte du site via un thème a ete mise en place ainsi que l'optimisation des pages
                                et
                                du
                                SEO
                            </p>
                        </div>
                        <div class="creation" data-modal="myModal4" data-title="Pizza Cosy" data-date="Date de création"
                            data-technologies="Technologies utilisées" data-link="https://www.pizzacosy.fr/"
                            data-github="https://github4.com">
                            <h3 class="animated-text">Pizza Cosy</h3>
                            <img src="../assets/image/Pizza Cosy/Pizza Cosy.png" alt="Image 4" class="img-queries">
                            <p>
                                Un site qui pour commander des pizzas en Click and Collect.
                                En proposant chaque semaine des promotions et des nouveauté de produits.
                            </p>
                        </div>
                    </div>
                </div>
                <!-- Modals -->
                <div class="containerModal">
                    <div id="myModal1" class="modal">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <h2 id="modalTitle1" class="animated-text">Création 1</h2>
                            <div class="slider">
                                <span style="--i:1;"><img src="../assets/image/ALTIMA CHR/Altima1.png"
                                        alt="Image Altima 1" /></span>
                                <span style="--i:2;"><img src="../assets/image/ALTIMA CHR/Altima2.png"
                                        alt="Image Altima 2" /></span>
                                <span style="--i:3;"><img src="../assets/image/ALTIMA CHR/Altima3.png"
                                        alt="Image Altima 3" /></span>
                            </div>
                            <div id="date-project">
                                <p>Date de création : <time datetime="2023-09-25">25/09/2023</time> <span
                                        id="modalDate1"></span>
                                </p>
                                <p>Technologies utilisées : Intégration HTML5 - CSS (Bootstrap). <br>
                                    Développement sous JavaScript. <br>
                                    Animation des pages par JavaScript (jQuery) / AJAX. <br>
                                    Référencement naturel SEO. <br>
                                    Optimisation Cloudflare.
                                    <span id="modalTechnologies"></span>
                                </p>
                                <p>Visiter le site : <span><a id="modal-link" href="https://www.altimachr.com/"
                                            target="_blank" rel="noopener noreferrer">ALTIMA CHR</a></span></p>
                            </div>
                        </div>
                    </div>
                    <div id="myModal2" class="modal">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <h2 id="modalTitle2" class="animated-text">Création 2</h2>
                            <div class="slider">
                                <span style="--i:1;"><img src="../assets/image/DPS/DPS1.png" alt="Image DPS 1" /></span>
                                <span style="--i:2;"><img src="../assets/image/DPS/DPS2.png" alt="Image DPS 2" /></span>
                                <span style="--i:3;"><img src="../assets/image/DPS/DPS3.png" alt="Image DPS 3" /></span>
                            </div>
                            <div id="date-project">
                                <p>Date de création : <time datetime="2023-09-25">03/10/2023</time> <span
                                        id="modalDate2"></span>
                                </p>
                                <p>Technologies utilisées : HTML5 - CSS - Javascript. <br>
                                    Développement sous Javascript. <br>
                                    Refonte design via Javascript. <br>
                                    Référencement naturel SEO
                                    <span id="modalTechnologies"></span>
                                </p>
                                <p>Visiter le site : <span><a id="modal-link" href="https://dpsmarket.com/"
                                            target="_blank" rel="noopener noreferrer">DPS Market</a></span></p>
                            </div>
                        </div>
                    </div>
                    <div id="myModal3" class="modal">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <h2 id="modalTitle3" class="animated-text">Création 3</h2>
                            <div class="slider">
                                <span style="--i:1;"><img src="../assets/image/Gamer zone/Gamer zone1.png"
                                        alt="Image Gamer zone 1" /></span>
                                <span style="--i:2;"><img src="../assets/image/Gamer zone/Gamer zone2.png"
                                        alt="Image Gamer zone 2" /></span>
                                <span style="--i:3;"><img src="../assets/image/Gamer zone/Gamer zone3.png"
                                        alt="Image Gamer zone 3" /></span>
                            </div>
                            <div id="date-project">
                                <p>Date de création : <time datetime="2023-09-25">28/10/2023</time> <span
                                        id="modalDate3"></span>
                                </p>
                                <p>Technologies utilisées : HTML5 - CSS - Javascript. <br>
                                    Développement sous javascript. <br>
                                    crèation d'une vitrine statique. <br>
                                    Référencement naturel SEO
                                    <span id="modalTechnologies"></span>
                                </p>
                                <p>Visiter le site : <span><a id="modal-link" href="https://www.yte.fr/" target="_blank"
                                            rel="noopener noreferrer">Gamer Zone</a></span></p>
                            </div>
                        </div>
                    </div>
                    <div id="myModal4" class="modal">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <h2 id="modalTitle4" class="animated-text">Création 4</h2>
                            <div class="slider">
                                <span style="--i:1;"><img src="../assets/image/Pizza Cosy/Pizza Cosy1.png"
                                        alt="Image Pizza Cosy 1" /></span>
                                <span style="--i:2;"><img src="../assets/image/Pizza Cosy/Pizza Cosy2.png"
                                        alt="Image Pizza Cosy 2" /></span>
                                <span style="--i:3;"><img src="../assets/image/Pizza Cosy/Pizza Cosy3.png"
                                        alt="Image Pizza Cosy 3" /></span>
                            </div>
                            <div id="date-project">
                                <p>Date de création : <time datetime="2023-09-25">12/11/2023</time> <span
                                        id="modalDate4"></span>
                                </p>
                                <p>Technologies utilisées : Intégration HTML5 - CSS (Bootstrap) - JavaScript. <br>
                                    Développement sous Wordpress. <br>
                                    Animation des pages par JavaScript (jQuery) / AJAX. <br>
                                    Référencement naturel SEO. <br>
                                    Optimisation Cloudflare.
                                    <span id="modalTechnologies"></span>
                                </p>
                                <p>Visiter le site : <span><a id="modal-link" href="https://www.pizzacosy.fr/"
                                            target="_blank" rel="noopener noreferrer">Pizza Cosy</a></span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
        <CompetencesComponent />
        <FooterComponent />
        <ScrollToTop />
    </div>
</template>

<script>
import CompetencesComponent from '@/components/CompetencesComponent.vue'
import FooterComponent from '@/components/FooterComponent.vue'
import ScrollToTop from '@/components/ScrollToTop.vue'

export default {
    name: 'CreationComponent',
    components: {
        CompetencesComponent,
        FooterComponent,
        ScrollToTop,
    },
    methods: {
        // Méthode pour faire défiler jusqu'à la section de création
        scrollToCreation() {
            const anchor = document.getElementById('debut-page-creation');
            if (anchor) {
                anchor.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        },
        // Fonction pour ouvrir le modal
        openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add("modal-enter"); // Ajoute la classe pour l'animation d'entrée
                modal.style.display = "block";

                const closeBtn = modal.querySelector(".close");
                if (closeBtn) {
                    closeBtn.addEventListener("click", function (event) {
                        event.stopPropagation(); // Arrêter la propagation de l'événement
                        modal.classList.remove("modal-enter"); // Supprime la classe pour l'animation d'entrée
                        modal.classList.add("modal-leave-to"); // Ajoute la classe pour l'animation de sortie
                        setTimeout(() => {
                            modal.style.display = "none";
                            modal.classList.remove("modal-leave-to"); // Supprime la classe pour l'animation de sortie après la transition
                        }, 500); // Temps de transition en millisecondes
                    });
                }

                window.addEventListener("click", function (event) {
                    if (event.target === modal) {
                        modal.classList.remove("modal-enter"); // Supprime la classe pour l'animation d'entrée
                        modal.classList.add("modal-leave-to"); // Ajoute la classe pour l'animation de sortie
                        setTimeout(() => {
                            modal.style.display = "none";
                            modal.classList.remove("modal-leave-to"); // Supprime la classe pour l'animation de sortie après la transition
                        }, 500); // Temps de transition en millisecondes
                    }
                });
            }
        },
        // Récupération et initialisation des modals et des créations
        initializeModals() {
            const creations = document.querySelectorAll(".creation");

            creations.forEach((creation) => {
                creation.addEventListener("click", () => {
                    const modalId = creation.dataset.modal;
                    this.openModal(modalId);
                });
            });

            const modals = document.querySelectorAll(".modal");
            modals.forEach(modal => {
                modal.style.display = "none";
            });
        },
    },
    mounted() {
        // Appel de la méthode scrollToCreation lorsque le composant est monté
        this.scrollToCreation();

        // Initialiser les modals après le chargement du contenu
        this.initializeModals();
    },
};
</script>

<style scoped>
.containerCreation {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-around;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto 15px;
    padding-bottom: 40px;
    border-radius: 10px;
    box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3);
    background: #333;
    color: #fff;
}

.containerCreation {
    position: relative;
    display: inline-flexbox;
}

.containerCreation :hover::after {
    content: "";
    position: absolute;
    bottom: 0;
    right: 0;
    width: 30%;
    height: 10%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1;
}

.creation {
    width: 500px;
    height: 400px;
    margin-bottom: 30px;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    align-items: center;
    margin-bottom: 100px;
    margin-top: 30px;
}

.creation:hover {
    box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3);
}

.animated-text {
    width: 100%;
    text-align: center;
    color: white;
    text-transform: uppercase;
    background-image: linear-gradient(-225deg,
            #ef91ed 0%,
            #f1eef4 29%,
            #ff1361 67%,
            #fff800 100%);
    background-size: auto auto;
    background-clip: border-box;
    background-size: 200% auto;
    color: #fff;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: textclip 2s linear infinite;
    display: inline-block;
    font-size: 24px;
}

@keyframes textclip {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

p {
    margin: 20px;
}

.modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.4);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    transition: top 0.5s ease;
}

.modal-enter {
    top: 15%;
}

.modal-leave-to {
    top: 100%;
}

.modal-content {
    max-width: 600px;
    margin: 10px auto 15px;
    padding: 0px;
    border-radius: 10px;
    box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3);
    background: #333;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    color: #fff;
}

#modal-link {
    color: #ff1361;
}

#date-project {
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    margin: 20px 0 0 0;
    padding: 0px;
}

#date-project a {
    text-decoration: none;
    color: rgb(255, 121, 4);
    font-weight: bold;
    font-size: 20px;
}

#date-project a:hover {
    color: yellow;
}

#modalTitle1,
#modalTitle2,
#modalTitle3,
#modalTitle4 {
    font-size: 30px;
    margin-bottom: 50px;
}

.slider {
    position: relative;
    width: 210px;
    height: 210px;
    transform: perspective(800px) rotateY(0deg);
    transform-style: preserve-3d;
    animation: animate 30s linear infinite;
}

.slider {
    width: 300px;
    transition: transform .1s;
}


.slider:hover {
    -ms-transform: scale(1.5);
    /* IE 9 */
    -webkit-transform: scale(1.5);
    /* Safari 3-8 */
    transform: scale(1.5);
}

@keyframes animate {
    0% {
        transform: perspective(1000px) rotateY(0deg);
    }

    100% {
        transform: perspective(1000px) rotateY(-360deg);
    }
}

.slider span {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transform-origin: center;
    transform-style: preserve-3d;
    transform: rotateY(calc(var(--i) * 120deg)) translateZ(105px);
}

.slider span img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    border-radius: 10px;
    cursor: pointer;
    transition: .6s ease;
}

.slider span img:hover {
    transform: translateY(-10px) scale(1.1);
}

.close {
    color: #aaaaaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.close:hover,
.close:focus {
    color: #000;
    text-decoration: none;
}

@media screen and (max-width: 1200px) {
    .creation {
        width: 100%;
    }

    .img-queries {
        width: 250px;
        height: 150px;
    }

    p {
        margin: 20px;
    }
}

@media screen and (max-width: 768px) {

    .box-modal,
    .containerCreation {
        flex-direction: column;
        margin: 10px;
    }

    .modal-content {
        max-width: 300px;
        margin: 250px auto 15px;
    }

    .creation {
        width: 100%;
    }

    p {
        margin: 20px;
    }

    #modalTitle1,
    #modalTitle2,
    #modalTitle3,
    #modalTitle4 {
        font-size: 16px;
        margin-bottom: 20px
    }
}

@media screen and (max-width: 480px) {
    .creation {
        width: 100%;
    }

    .animated-text {
        width: 100%;
        font-size: 16px;
    }

    slider {
        width: 150px;
        height: 150px;
        transition: transform .1s;
    }

    slider:hover {
        -ms-transform: scale(1.5);
        /* IE 9 */
        -webkit-transform: scale(1.5);
        /* Safari 3-8 */
        transform: scale(1.5);
    }

    #modalTitle1,
    #modalTitle2,
    #modalTitle3,
    #modalTitle4 {
        font-size: 16px;
        margin-bottom: 20px
    }

    p {
        margin: 20px;
    }

    .slider {
        position: relative;
        width: 200px;
        height: 200px;
        transform: perspective(600px) rotateY(0deg);
        transform-style: preserve-3d;
        animation: animate 30s linear infinite;
    }
}
</style>